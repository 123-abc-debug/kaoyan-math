# 偏导数与全微分（系统笔记）

## 1. 复习：邻域与极限（多元情形的前提）

- 点 $P_0=(x_0,y_0)$ 的**邻域**：存在半径 $r>0$ 使得所有点 $P$ 满足 $\sqrt{(x-x_0)^2+(y-y_0)^2}。
- 多元函数极限 $\lim_{(x,y)\to(x_0,y_0)} f(x,y)=L$ 的**前提**：定义在 $P_0$ 的某一个去心邻域内，并且极限值 **与路径无关**（任意路径趋近结果都相同）。
  - 若不同路径得不同值，则极限不存在。

------

## 2. 多元函数的连续

- 定义：若 $\lim_{(x,y)\to(x_0,y_0)} f(x,y)=f(x_0,y_0)$，则在该点连续。
- 连续需要极限存在且等于函数值（同一变量的概念推广）。

------

## 3. 偏导数（Partial derivatives）

- 对于 $f(x,y)$，在点 $(x_0,y_0)$：
  $$
  f_x(x_0,y_0)=\lim_{h\to0}\frac{f(x_0+h,y_0)-f(x_0,y_0)}{h},
  \quad
  f_y(x_0,y_0)=\lim_{h\to0}\frac{f(x_0,y_0+h)-f(x_0,y_0)}{h}.
  $$

- **说明**：偏导只沿坐标轴方向考察变化，不涉及“任意方向”。

- **注意**：偏导存在并不意味着多元可微或偏导连续。

### 典型反例（偏导存在但不连续 / 不可微）

1. $f(x,y)=\dfrac{xy}{x^2+y^2}$（当 $(x,y)\ne(0,0)$，原点取 0）。
   - 在原点，两偏导均为 0（计算沿 $x$ 轴和 $y$ 轴的极限），但沿不同路径 $y=x$ 时函数值 $\frac{x^2}{2x^2}=\tfrac12$ 不趋向 0 ⇒ 函数在原点 **不连续**，因此**不可微**，偏导虽存在但不连续。
   - 这个例子说明偏导存在并不保证连续与可微。
2. 连续但不可偏导的例子（简明）：
    $g(x,y)=|x|+|y|$ 在原点连续，但在原点对 $x$ 的偏导不存在（左导数与右导数不同）。这是说明“连续 ⇏ 可偏导”。

------

## 4. 全微分（可微性）——定义与意义

### 定义（可微）

函数 $z=f(x,y)$ 在点 $(x_0,y_0)$ **可微**，若存在常数 $A,B$ （与点有关），使得当 $\Delta x\to0,\ \Delta y\to0$ 时：
$$
\Delta z \equiv f(x_0+\Delta x,y_0+\Delta y)-f(x_0,y_0)
= A\Delta x + B\Delta y + o(\sqrt{\Delta x^2+\Delta y^2}),
$$
记全微分为
$$
dz = A\,dx + B\,dy.
$$
在可微情形下，必有 $A=f_x(x_0,y_0),\ B=f_y(x_0,y_0)$。

### 几何意义

- 可微意味着在该点附近，函数曲面可被**切平面**良好近似：
  $$
  z - z_0 \approx f_x(x_0,y_0)(x-x_0) + f_y(x_0,y_0)(y-y_0).
  $$

- 一元可微的几何意义是“局部把曲线用切线线性逼近”（“化曲为直”）。

------

## 5. 可微、连续、可偏导之间的关系（结论与证明要点）

### 结论（常用链）

1. $\textbf{可微} \Rightarrow \textbf{偏导存在}$ 且偏导等于线性映射的系数。
   - 证明要点：把 $\Delta y=0$（或 $\Delta x=0$）代入可微定义，可得偏导极限形式。
2. $\textbf{可微} \Rightarrow \textbf{连续}$。
   - 证明要点：由可微表达式 $\Delta z = A\Delta x + B\Delta y + o(r)$，当 $(\Delta x,\Delta y)\to(0,0)$ 时右项趋 0，所以 $\Delta z\to0$ ⇒ 连续。
3. $\textbf{偏导连续（在邻域内）} \Rightarrow \textbf{可微}$。
   - 这是**充分条件**：若 $f_x$ 与 $f_y$ 在点及其邻域存在并连续，则 $f$ 在该点可微。常用证明用均值定理和估计 $o(r)$ 项。
4. 逆向均不成立：
   - 偏导存在不保证连续或可微；连续也不保证偏导存在；偏导存在且连续在点的单点连续一般足够但若只在点存在而在邻域不连续则不可微（注意区别“在点连续”与“在邻域连续”）。

------

## 6. 全微分的“形式不变性”

- **形式不变性**的含义：把变量增量写成微分 $dx,dy$，全微分公式在符号上保持同样形式，不依赖我们如何表示增量。即若 $dz=f_x dx + f_y dy$，无论 $dx,dy$ 是小的增量还是符号化的微分，表达式形式相同。
- 这在做变量替换、链式法则和高阶微分时很方便。

------

## 7. 可微的几何例子（说明切平面）

- 例：$f(x,y)=x^2+y^2$，在点 $(1,1)$：

  - $f_x=2x$, $f_y=2y$ ⇒ 在 $(1,1)$ 有 $f_x=2, f_y=2$。

  - 切平面方程：
    $$
    z - f(1,1) = 2(x-1)+2(y-1).
    $$

  - 这是点处曲面用平面线性逼近的示例。

- 一元对应：$y=f(x)$ 在 $x_0$ 可微，切线方程 $y-f(x_0)=f'(x_0)(x-x_0)$。

------

## 8. 如何计算 $dz$（运算法则）

设 $z=f(x,y)$，若可微，则
$$
dz = f_x(x,y)\,dx + f_y(x,y)\,dy.
$$
常用运算法则（若各函数在点可微）：

- 线性性：
  $$
  d(af+bg)=a\,df + b\,dg.
  $$

- 乘法（积法则）：
  $$
  d(uv)=u\,dv + v\,du.
  $$

- 商法则（$\,v\ne0$）：
  $$
  d\left(\frac{u}{v}\right)=\frac{v\,du - u\,dv}{v^2}.
  $$

- 链式法则（复合函数）：
   若 $u=u(x,y)$, $z=f(u)$，则
  $$
  dz = f'(u)\,du = f'(u)\big(u_x\,dx + u_y\,dy\big).
  $$
  若 $z=f(x,y)$ 且 $x=x(t), y=y(t)$，则
  $$
  \frac{dz}{dt} = f_x\frac{dx}{dt} + f_y\frac{dy}{dt}.
  $$

- 高阶微分与多变量泰勒（后面提到）。

------

## 9. 可微的判定方法（实用总结）

**常用充分条件**：

- 若 $f_x$ 与 $f_y$ 在点附近存在并连续 ⇒ $f$ 在该点可微（最常用结论）。

**否定/反例**：

- 仅知道偏导在点存在（而不知邻域是否连续）通常不足以判定可微（见第 3 部分例子）。

**考试策略**：

- 给出函数时，先求偏导；若能证明偏导在邻域连续，则直接结论可微并给出全微分。
- 若偏导仅在点存在，尝试直接用可微定义验证 $o(r)$ 项或找反例路径（选择 $\Delta y=k\Delta x$ 等路径检查极限）以判定不可微。

------

## 10. 关于多元极限的几类常见误区与解题提示

### 误区 1：若把变量分别代入得到 0/0 就不能直接判定

- 说明：当极限出现 $0/0$ 型，不能直接“带入”结论；需要用路径法、极坐标变换或夹逼准则判断是否存在确定极限。
- 例：若 $\lim_{(x,y)\to(0,0)} \dfrac{x^2 y}{x^4+y^2}$，沿 $y=kx^2$ 等路径看是否一致。

### 误区 2：偏导存在就可微

- 说明：上面已有反例。若题目要求可微，最好证明偏导在邻域连续或直接验证可微定义。

------

## 11. 多元泰勒与二阶近似（简单引导）

- 多元泰勒展开（到二阶）：
  $$
  f(x_0+\Delta x,y_0+\Delta y) = f(x_0,y_0) + f_x\Delta x + f_y\Delta y
  + \tfrac12\big(f_{xx}\Delta x^2 + 2f_{xy}\Delta x\Delta y + f_{yy}\Delta y^2\big) + o(r^2),
  $$
  其中 $r=\sqrt{\Delta x^2+\Delta y^2}$。

- 在考研数学里，多元二阶泰勒常用于判别极值与近似计算；如果你没学过，可以记住形式并在需要时学习 Hessian 判别法。

------

## 12. 把你提出的每一个具体问题逐项补全并给出证明要点或说明

### 5.(1) 可微 ⇒ 连续 的证明要点

已给出：由 $\Delta z = A\Delta x + B\Delta y + o(r)$，当 $r\to0$ 时右项趋 0 ⇒ $\Delta z\to0$ ⇒ 连续。

详细步骤（严谨写法）：

- 令 $r=\sqrt{\Delta x^2+\Delta y^2}$。因为 $A\Delta x + B\Delta y$ 被常数与 $r$ 线性控制，且 $o(r)$ 是比 $r$ 更小的量，故 $\Delta z \to 0$。

### 5.(2) 可微 ⇒ 可偏导 的证明要点

- 把 $\Delta y=0$，则 $\Delta z = A\Delta x + o(|\Delta x|)$。两边除以 $\Delta x$ 并取极限得 $\lim_{\Delta x\to0}\frac{\Delta z}{\Delta x} = A$。因此偏导存在且等于 $A$。

### 5.(3) 全微分的“形式不变性”（公式）

- 若 $dz=f_x dx + f_y dy$。若把 $dx$ 写成某微小增量 $\Delta x$，形式不变。换变量（如 $u,v$）后仍用同样的代数形式表示线性近似，这是所谓“形式不变性”。

------

## 13. 计算全微分的例题（练习模板）

- 例1：$z=x^2y + \sin(xy)$。则
  $$
  dz = (2xy + y\cos(xy))\,dx + (x^2 + x\cos(xy))\,dy.
  $$
  （按偏导分别计算）

- 例2（链式）：若 $z=f(u,v)$, $u=u(x,y),\ v=v(x,y)$，则
  $$
  dz = f_u\,du + f_v\,dv
     = f_u(u_x\,dx + u_y\,dy) + f_v(v_x\,dx + v_y\,dy).
  $$

------

## 14. 关于你列出的“遇到的问题”的解答

- （1）**关于 0/0 的处理**：当分子和分母同时趋于 0 时，不能直接代入；需判断比值是否有确定极限（路径法、极坐标、夹逼、洛必达（只在一维）等）。多元中推荐用**极坐标**（把 $x=r\cos\theta,y=r\sin\theta$）或**特定路径**（例如 $y=kx$ 或 $y=kx^2$）来判断是否与 $\theta$ 有关。
- （2）**多元泰勒**：确实在考研里常出现二阶泰勒（用于极值判别）。若你还没学详细的推导，可以先记住二阶项的形式和 Hessian 矩阵的概念（Hessian 的符号决定二次型正定否，从而判断极值类型）。

------

# 最后：你原笔记中需要**修改 

1. **“极限的前提是邻域要存在”**
   - 改正说明：对，极限讨论需在去心邻域内定义；注意去心邻域不是包含点本身的开球（去心邻域表示可任取不含中心的小邻域）。
2. **“可偏导未必连续”**
   - 说明：正确。给出 $f(x,y)=\dfrac{xy}{x^2+y^2}$（原点定义 0）作反例。
3. **“连续未必可偏导”**
   - 说明：正确。示例 $f(x,y)=|x|+|y|$ 在原点连续但偏导不存在。
4. **“可微的理解（线性近似）”**
   - 说明：你理解正确。把“一元可微写出公式并解释”在笔记中写清楚：$\Delta y=f'(x_0)\Delta x + o(\Delta x)$。
5. **“可微 ⇒ 可偏导与可微 ⇒ 连续 的证明”**
   - 说明：你理解方向对（用 $\Delta y=0$ 获得偏导；用 $r\to0$ 得连续），我在正文给了完整说明。
6. **“全微分的形式不变性”**
   - 说明：应该用“形式不变”而不是“形式不变性”容易混淆的表述。核心是：全微分在代数操作（线性组合、链式）中保持统一形式。
7. **“微分的运算法则”**
   - 说明：已列出线性、积、商、链式等常用规则。
8. **“可微的判定方法 — 若可微则有公式能写出来”**
   - 说明：是的。更实用的是：若偏导在邻域连续，则可微（充分条件）。
9. **“多元泰勒”**
   - 说明：确实重要（尤其是二阶）。如果你要考研，建议掌握二阶形式和 Hessian 判别法（正定/负定/不定）。

## 我的疑惑

1.可微和可偏导到底是什么关系，可偏导连续能推导出可微吗，为什么可偏导连续就能推可微了，可偏导连续不是指在x，y两个方向可连续吗，但是可微不是四面八方吗

“偏导存在”相当于：你在正x和正y方向上能量出坡度；

“偏导连续”相当于：你在这一片小区域内，无论往哪个方向走，坡度的变化是平滑的；

“可微”相当于：你能用一个**切平面**很好地近似山坡的局部形状。

2.可微的计算公式是怎么求的，解释一下，就是那几个公式的定理，是怎么得到的，是和导数一样，用定义推的吗



3.为什么可微的条件那么强，能推导到其他的公式

4.全微分的形式不变性是什么意思

在定义中我们把微分理解为函数增量的**线性近似部分**

5.全微分的无穷小量那个是怎么来的
